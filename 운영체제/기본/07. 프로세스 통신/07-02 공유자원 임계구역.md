## 경쟁 상태(Race Condition)

여러 프로세스, 스레드가 동일한 자원에 동시에 접근하려고 할 때 **경쟁 상태(Race Condition)**가 발생할 수 있고 순서에 따라 결과가 달라진다.

### 원자성(Atomicity)

`deposit = deposit + 50000`만 해도 아래와 같은 절차가 다른 프로세스, 스래드 간섭 없이 일어나야 한다.

1. 메모리에서 값 읽기
2. 연산 수행
3. 새로운 값을 다시 메모리에 쓰기

### 공유 자원(Shared Resources)

메모리, 파일이 있다.

### 임계 구간(Critical Section)

동시 접근을 제한해야 하는 자원에 접근하는 코드다.

임계구역은 최소화하는게 좋다.(race condition, deadlock 사전 예방)

### 해결

다중 프로세스, 다중 스래드에서 큐를 이용해 동기화 할 수 있다.

하나의 큐에 여러 스래드를 연결해 동시 접근을 막을 수 있다. 이로 인해 deadlock을 방지할 수 있다.

여러 스래드가 각자 1개의 큐를 가진상태에서는 스래드-스래드뿐만 아니라 스래드-큐로도 통신 가능하다.
