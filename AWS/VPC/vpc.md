## VPC (Virtual Private Cloud)

VPC는 보안을 위해 사용하는 가상 네트워크로 외부에서 직접 접근할 수 없다. VPC에서 EC2나 RDS등을 사용할 수 있다. CIDR 표기법을 사용하여 IP 주소 범위를 설정한다.

> 13.25.82.0/24는 13.25.82까지 고정이고, 마지막 0~255까지 IP 주소를 사용할 수 있다.

### 사설 IP와 공인 IP

공인 IP (퍼블릭 IP)는 외부 인터넷을 통해 접근할 수 있는 주소로 전 세계에서 단 하나뿐인 고유한 주소다.

사설 IP (프라이빗 IP)는 외부 인터넷과 직접 연결되지 않고 내부 네트워크에서만 사용되는 주소다. 같은 VPC 내에 있는 서버는 서로 통신할 수 있다.

공인 IP 범위와 사설 IP 범위(IETF)가 있다.

## 서브넷 (Subnet)

서브넷은 VPC에서 작은 네트워크 단위로 나눈 것이다. 용도에 따라 네트워크를 분리•관리하기 위해 사용한다. (e.g. RDS와 EC2를 각각 다른 네트워크로 분리하고 관리)

퍼블릭 서브넷은 외부에서 접근 가능한 서브넷이고 프라이빗 서브넷은 외부에서 접근이 불가한 서브넷이다. 서브넷은 AZ(가용 영역, Availability Zone) 단위로 생성된다. VPC의 범위 내에서 CIDR 표기법으로 IP 주소 범위를 설정한다.

## 인터넷 게이트웨이

VPC와 외부 인터넷 간의 통신을 가능하게 해주는 장치다. 퍼블릭 서브넷(Public Subnet)에 EC2를 배치해도 인터넷 게이트웨이가 없으면 외부 인터넷과 통신이 불가능하다.

## 라우팅 테이블

라우팅 테이블은 트래픽을 어디로 전송해야 하는지 경로를 알려주는 테이블이다. 서브넷의 리소스는 스스로 인터넷 게이트웨이를 찾아가지 못해 라우팅 테이블이 필요하다.

## NAT(Network Address Translation) 게이트웨이

NAT 게이트웨이는 프라이빗 서브넷이 외부 인터넷에 접근할 수 있도록 해주는 장치다. NAT 게이트웨이는 퍼블릭 서브넷에 배치되며, 프라이빗 서브넷에서 나가는 트래픽을 받아 외부 인터넷으로 전달한다. 반대로 외부 인터넷에서 프라이빗 서브넷으로 들어오는 트래픽은 차단한다.

## Bastion Host

프라이빗 서브넷의 AWS 리소스에 접근하기 위해 퍼블릭 서브넷에 배치한 컴퓨터를 Bastion Host라 하며 문지기 역할을 해 보안에서 이점이 있다.

즉, 퍼블릭 서브넷에 Bastion Host를 통해 프라이빗 서브넷의 리소스에 접근할 수 있다.
